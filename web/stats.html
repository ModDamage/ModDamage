<!DOCTYPE html>
<html>
	<head>
			<title>ModDamage - Stats</title>
			<meta name="viewport" content="width=device-width, initial-scale=1.0">
			<!-- Bootstrap -->
			<link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
			<style type="text/css">
				.navbar {
					margin-bottom: 20px;
				}
				
				@media (max-width: 980px) {
					/* Enable use of floated navbar text */
					.navbar-text.pull-right {
						float: none;
						padding-left: 5px;
						padding-right: 5px;
					}
				}
				
				#stats div {
					margin-bottom: 3px;
				}
				
				#stats div div {
					margin-left: 20px;
				}
			</style>
			<!-- <link href="/static/bootstrap/css/bootstrap-responsive.css" rel="stylesheet"> -->
	</head>
	<body style="padding-top: 70px;">
		<nav class="navbar navbar-inverse navbar-fixed-top">
			<div class="navbar-inner">
				<div class="navbar-header">
					<a class="navbar-brand" href="#">ModDamage</a>
					
				</div>
				<div class="navbar-collapse collapse">
						<!-- <p class="navbar-text pull-right">
							Logged in as <a href="#" class="navbar-link">Username</a>
						</p> -->
						<ul class="nav navbar-nav">
							<li class="active"><a href="/static/stats.html">Stats</a></li>
							<li><a href="/static/editor.html">Editor</a></li>
							<li><a href="/events">Events</a></li>
							<li><a href="/properties">Properties</a></li>
						</ul>
					</div><!--/.nav-collapse -->
			</div>
		</nav>
		
		<div id="stats" class="container">
			<h1>Server Stats</h1>
			
			<div><b>Name:</b>&nbsp;<span id="name"></span></div>
			<div><b>ID:</b>&nbsp;<span id="id"></span></div>
			<div><b>IP Address:</b>&nbsp;<span id="ip"></span></div>
			<div><b>Port:</b>&nbsp;<span id="port"></span></div>
			
			
			<div id="implementation"><b>Implementation:</b>
				<div><b>Name:</b>&nbsp;<span id="name"></span></div>
				<div><b>Version:</b>&nbsp;<span id="version"></span></div>
				<div><b>Bukkit Version:</b>&nbsp;<span id="bukkitVersion"></span></div>
			</div>
			
			
			<div><b>Players:</b>&nbsp;<span id="numPlayers"></span>/<span id="maxPlayers"></span></div>
			
			
			<!-- <div class="row-fluid">
				<div class="span4">
					<h2>Heading</h2>
					<p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
					<p><a class="btn" href="#">View details &raquo;</a></p>
				</div>
				<div class="span4">
					<h2>Heading</h2>
					<p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
					<p><a class="btn" href="#">View details &raquo;</a></p>
				</div>
				<div class="span4">
					<h2>Heading</h2>
					<p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
					<p><a class="btn" href="#">View details &raquo;</a></p>
				</div>
			</div>
			<div class="row-fluid">
				<div class="span4">
					<h2>Heading</h2>
					<p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
					<p><a class="btn" href="#">View details &raquo;</a></p>
				</div>
				<div class="span4">
					<h2>Heading</h2>
					<p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
					<p><a class="btn" href="#">View details &raquo;</a></p>
				</div>
				<div class="span4">
					<h2>Heading</h2>
					<p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
					<p><a class="btn" href="#">View details &raquo;</a></p>
				</div>
			</div> -->

		</div>

		<!-- Le javascript
		================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
		<script src="/static/js/jquery-2.0.3.min.js"></script>
		<script src="/static/bootstrap/js/bootstrap.min.js"></script>
	
		<script>
			function setData(container, data) {
				for (var key in data) {
					if (!data.hasOwnProperty(key)) continue;
					
					var el = $('#'+key, container);
					if (el.length == 0) { // missing element, skip
						console.log("Unhandled stat key: ", key);
						continue;
					}
					
					if (typeof data[key] == "object")
						setData(el, data[key]);
					else
						el.text(data[key]);
				}
			}
			
			$(function() {
				$.ajax('/api/stats', {dataType: 'json'})
					.done(function(data) {
						setData($("#stats"), data);
					});
			})
		</script>
	</body>
</html>